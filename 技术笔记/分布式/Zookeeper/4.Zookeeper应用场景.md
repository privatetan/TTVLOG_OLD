# Zookeeper应用场景

- ##### 数据发布/订阅

- ##### 负载均衡

- ##### 命名服务

- ##### 分布式协调/通知

- ##### 集群管理

- ##### Master选举

- ##### 分布式锁

- ##### 分布式队列



## 数据发布/订阅

##### 数据发布/订阅

数据发布/订阅系统，即**配置中心**。

发布/订阅系统的两种设计模式：

- **推（push）模式**
- **拉（pull）模式**

推：服务端主动将数据更新发送给所有订阅的客户端；

拉：客户端主动发起请求获取最新数据，通常采用**定时轮询**拉取。

##### ZK数据发布/订阅实现原理

ZK实现数据发布/订阅，就是将数据发布到ZK的一个或者一系列节点上，供订阅者完成数据订阅，进而达到动态获取数据的目的，实现配置信息的集中式管理和数据的动态更新。

ZK采用**推拉结合**方式实现发布/订阅：即客户端向服务端注册自己需要关注的节点，该节点发生数据变更，服务端就会向相应的客户端发送watcher事件通知，客户端收到通知后，需要主动到服务端获取最新的数据。



## 负载均衡

##### 负载均衡

是一种常见的计算机网络技术，用来对计算机集群、网络连接、CPU、磁盘驱动器等资源进行分配负载，以达到优化资源使用、最大化吞吐量、最小响应时间和避免过载的目的。

负载均衡可分为：**硬件负载均衡**和**软件负载均衡**。

##### ZK负载均衡

ZK动态DNS系统，DDNS，Dynamic DNS。

- **域名配置**

  和配置管理一样，需要在ZK上创建一个节点来进行域名配置，称之为"域名节点"，如

  ```
  /DDNS/application/server.application.comname.com
  ```

- **域名解析**

  传统域名解析：域名解析工作交由本地域名解析器（操作系统的Host配置）或者专门域名解析器。

  DDNS域名解析器：域名解析工作由每个应用自己负责。应用首先从域名节点获取一份IP地址和端口配置，完成解析。同时每个应用还会在域名节点注册一个数据变更Watcher监听，以便收到

- **域名变更**

ZK自动化DNS服务

域名注册