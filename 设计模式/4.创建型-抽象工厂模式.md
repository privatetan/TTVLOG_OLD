# 抽象工厂模式

## 一、抽象工厂模式

**意图：**提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。

**主要解决：**多接口选择的问题。

**何时使用：**系统的产品有多于一个的产品族，而系统只消费其中某一族的产品。

**如何解决：**在一个产品族里面，定义多个产品。

**关键代码：**在一个工厂里聚合多个同类产品。

## 二、优缺点

### 优点

- ###### 产品族垂直扩展简单

  新增一种产品族内产品时，只需要增加相应的具体产品类和相应的工厂子类即可

- ###### 符合开闭原则

  新增一种产品类时，只需要增加相应的具体产品类和相应的工厂子类即可

- ###### 符合单一职责原则

  当一个产品族中的多个对象被设计成一起工作时，它能保证客户端始终只使用同一个产品族中的对象。

- ###### 不使用静态工厂方法，可以形成基于继承的等级结构

  简单工厂模式的工厂类使用静态工厂方法

### 缺点

- ###### 产品族水平扩展困难

  抽象工厂接口中已经确定了可以被创建的产品族；

  如果需要添加新产品族，此时就必须去修改抽象工厂的接口，这样就涉及到抽象工厂类的以及所有子类的改变。

#### 开闭原则的倾斜性

对于抽象工厂模式，产品族垂直扩展符合开闭原则，产品族水平扩展不符合开闭原则，称之为开闭原则倾斜性。



## 三、使用场景



## 四、实现

