# 工厂方法模式

## 一、工厂方法模式

**意图：**定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。

**主要解决：**多接口选择的问题。

**何时使用：**我们明确地计划不同条件下创建不同实例时。

**如何解决：**让其子类实现工厂接口，返回的也是一个抽象的产品。

**关键代码：**创建过程在其子类执行。

## 二、优缺点

### 优点：

- ###### 符合单一职责原则

  每个具体工厂类只负责创建对应的产品。

- ###### 符合开闭原则

  扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。 

- ###### 不使用静态工厂方法，可以形成基于继承的等级结构

  简单工厂模式的工厂类使用静态工厂方法

### 缺点：

- ###### 一个工厂只能创建一个实例对象

每次增加一个产品时，都需要增加一个具体类和对象实现工厂，使得系统中类的个数成倍增加，在一定程度上增加了系统的复杂度，同时也增加了系统具体类的依赖。



## 三、使用场景

- ###### 当一个类不知道它所需要的对象的类时

  在工厂方法模式中，客户端不需要知道具体产品类的类名，只需要知道所对应的工厂即可；

- ###### 当一个类希望通过其子类来指定创建对象时

  在工厂方法模式中，对于抽象工厂类只需要提供一个创建产品的接口，而由其子类来确定具体要创建的对象，利用面向对象的多态性和里氏代换原则，在程序运行时，子类对象将覆盖父类对象，从而使得系统更容易扩展。

- ###### Spring中的FactoryBean类

  实现了FactoryBean接口的bean是一类叫做factory的bean。其特点是Spring会在使用getBean()调用获得该bean时，会自动调用该bean的getObject()方法，所以返回的不是factory这个bean，而是这个bean.getOjbect()方法的返回值。




## 四、实现