# 文件

## MySQL中的文件类型

参数文件：MySQL实例启动时加载的参数配置文件。

日志文件：记录MySQL的操作日志文件，如错误日志文件、二进制日志文件、慢查询日志文件、查询日志文件等。

socket文件：当用UNIX域套接字方式进行连接时需要的文件。

pid文件：MySQL实例的进程ID文件。

MySQL表结构文件：MySQL表结构定义文件。

存储引擎文件：每个存储引擎都会有自己的文件来存储各种数据，用于存储记录和索引等数据。

## 参数文件

用来存储MySQL配置参数的文件；

以可编辑的文本方式存储；

### 参数

可把参数看作key/value键值对。

### 参数类型

- **动态参数**：可通过SET命令，在MySQL实例运行时修改；

- **静态参数**：在整个实例生命周期内不能修改。

## 日志文件

记录影响MySQL数据库的各种类型活动；

- **错误日志**：记录MySQL的启动、运行、关闭过程。
- **二进制文件**：记录了对MySQL数据库执行更改的所有操作，不包括select和show这类查询操作。 二进制文件作用：**恢复、复制、审计**。
- **慢查询日志**：记录有问题的SQL语句。
- **查询日志**：记录所有对MySQL数据库请求的信息，无论这些请求是否的到了正确的执行，默认文件名为：主机名.log

## 套接字文件

在Unix系统下本地连接MySQL可以采用Unix域套接字方式，这种方式需要名为“mysql.sock”的套接字文件。

## PID文件

当MySQL实例启动时，会将自己的进程ID写入一个名为“主机名.pid”文件；

文件可由参数pid_file控制，默认位于数据库目录下。

## 表结构定义文件

无论表采用何种存储引擎，MySQL都有一个记录表结构定义的frm文件；

frm文件还用来存放视图定义：视图名.frm；

frm文件为文本文件，可使用cat命令查看。

## InnoDB存储引擎文件

- ###### 表空间文件
  
  InnoDB将存储的数据按表空间进行存储；
  
  默认下，存放在初始大小为10MB，名为ibdatal的文件。

- ###### 重做日志文件（redo log）
  
  默认下，InnoDB的数据目录下会有两个名为ib_logfile0和ib_logfile1的文件；
  
  重做日志文件记录了对于InnoDB存储引擎的事务日志。
  
  当实例或介质失败时，使用重做日志文件能保证数据的完整性。
  
  **<mark>与二进制日志文件的区别？<**
  
  1. **记录对象**：
     
     二进制文件：会记录所有与MySQL数据相关的日志记录，包括所有存储引擎；
     
     重做日志文件：只会记录InnoDB存储引擎相关的事务日志。
  
  2. **记录内容**：
     
     二进制文件：记录的是关于一个事务的具体操作内容，即该日志是逻辑日志；
     
     重做日志文件：记录的是关于每个页（Page）的更改的物理情况。
  
  3. **记录时间**：
     
     二进制文件：仅在事务提交前进行提交，且只写盘一次。
     
     重做日志文件：事务进行时，有不断的重做日志条目（redo entry）被写入到重做日志文件中。