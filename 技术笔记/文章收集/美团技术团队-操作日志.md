## 操作日志记录



## 1、操作日志与系统日志

* ##### 系统日志：

  ```
  主要是为开发排查问题提供依据，一般打印在日志文件中；
  系统日志的可读性要求没那么高，日志中会包含代码的信息，比如在某个类的某一行打印了一个日志。
  ```

* ##### 操作日志：

  ````
  主要是对某个对象进行新增操作或者修改操作后记录下这个新增或者修改，操作日志要求可读性比较强，因为它主要是给用户看的；
  比如订单的物流信息，用户需要知道在什么时间发生了什么事情。再比如，客服对工单的处理记录信息。
  ````



## 2、操作日志的实现

### 2.1 使用 Canal 监听数据库记录操作日志

### 什么是[Canal](https://github.com/alibaba/canal)

```
Canal，是一款基于 MySQL 数据库增量日志解析，提供增量数据订阅和消费的开源组件；
通过采用监听数据库 Binlog 的方式，这样可以从底层知道是哪些数据做了修改，然后根据更改的数据记录操作日志。
优点是和业务逻辑完全分离。
缺点是只能针对数据库的更改做操作日志记录，如果修改涉及RPC的调用，就没办法监听数据库。
```

### 2.2 通过日志文件的方式记录

 需要解决三个问题

问题一：操作人如何记录

问题二：操作日志如何和系统日志区分开

问题三：如何生成可读懂的日志文案

### 2.3 通过 LogUtil 的方式记录日志





